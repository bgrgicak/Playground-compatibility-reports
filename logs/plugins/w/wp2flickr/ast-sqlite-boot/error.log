file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21
`)},constants:R,phpIniEntries:{"openssl.cafile":"/internal/shared/ca-bundle.crt",allow_url_fopen:"1",disable_functions:""},hooks:{async beforeWordPressFiles(h){e.mountBeforeInstall&&u(h,e.mountBeforeInstall)}}}),d.log("Booted!");const W=await w.getPrimaryPhp();try{if(o&&!e.mountBeforeInstall&&!m.existsSync(f)&&(d.log("Caching preinstalled WordPress for the next boot..."),m.writeFileSync(f,await Z(W,"/wordpress")),d.log("Cached!")),e.mount&&u(W,e.mount),H=!0,l){const{php:h,reap:b}=await w.processManager.acquirePHPInstance();try{d.log("Running the Blueprint..."),await M(l,h),d.log("Finished running the blueprint")}finally{b()}}a==="build-snapshot"?(await i(e.outfile),d.log(`WordPress exported to ${e.outfile}`),process.exit(0)):a==="run-blueprint"?(d.log("Blueprint executed"),process.exit(0)):d.log(`WordPress is running on ${s}`)}catch(h){if(!e.debug)throw h;const b=W.readFileAsText(L);throw new Error(b,{cause:h})}},async handleRequest(r){return H?await w.request(r):U.forHttpCode(502,"WordPress is not ready yet")}})}te();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ^

Error: [10-Apr-2025 10:33:43 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>CREATE TABLE wp_banned (
		id mediumint(8) unsigned NOT NULL auto_increment,
		address varchar(255) NOT NULL default '',
		range varchar(255) NOT NULL default '',
		reason varchar(255) NOT NULL default '',
		redirect varchar(255) NOT NULL default '',
		thetime int(15) NOT NULL,
		timespan int(15) NOT NULL,
		PRIMARY KEY (id)
		);</p>
<p>Queries made or created this session were:</p>
<ol>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Failed to parse the MySQL query.
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(690): WP_SQLite_Driver->new_driver_exception('Failed to parse...', 0, Object(WP_SQLite_Driver_Exception))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(472): WP_SQLite_Driver->query('CREATE TABLE wp...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(413): WP_SQLite_DB->_do_query('CREATE TABLE wp...')
#3 /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php(76): WP_SQLite_DB->query('CREATE TABLE wp...')
#4 /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php(51): easyban_mysql_install()
#5 /wordpress/wp-admin/includes/plugin.php(2387): include_once('/wordpress/wp-c...')
#6 /wordpress/wp-admin/includes/plugin.php(673): plugin_sandbox_scrape('wp-easyban/wp-e...')
#7 /internal/eval.php(20): activate_plugin('wp-easyban/wp-e...')
#8 {main}</pre>
 for query CREATE TABLE wp_banned (
		id mediumint(8) unsigned NOT NULL auto_increment,
		address varchar(255) NOT NULL default '',
		range varchar(255) NOT NULL default '',
		reason varchar(255) NOT NULL default '',
		redirect varchar(255) NOT NULL default '',
		thetime int(15) NOT NULL,
		timespan int(15) NOT NULL,
		PRIMARY KEY (id)
		); made by activate_plugin, plugin_sandbox_scrape, include_once('/plugins/wp-easyban/wp-easyban.php'), easyban_mysql_install, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[10-Apr-2025 10:33:44 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>CREATE TABLE wp_banned (
		id mediumint(8) unsigned NOT NULL auto_increment,
		address varchar(255) NOT NULL default '',
		range varchar(255) NOT NULL default '',
		reason varchar(255) NOT NULL default '',
		redirect varchar(255) NOT NULL default '',
		thetime int(15) NOT NULL,
		timespan int(15) NOT NULL,
		PRIMARY KEY (id)
		);</p>
<p>Queries made or created this session were:</p>
<ol>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Failed to parse the MySQL query.
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(690): WP_SQLite_Driver->new_driver_exception('Failed to parse...', 0, Object(WP_SQLite_Driver_Exception))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(472): WP_SQLite_Driver->query('CREATE TABLE wp...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(413): WP_SQLite_DB->_do_query('CREATE TABLE wp...')
#3 /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php(76): WP_SQLite_DB->query('CREATE TABLE wp...')
#4 /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php(51): easyban_mysql_install()
#5 /wordpress/wp-settings.php(526): include_once('/wordpress/wp-c...')
#6 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#7 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#8 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#9 {main}</pre>
 for query CREATE TABLE wp_banned (
		id mediumint(8) unsigned NOT NULL auto_increment,
		address varchar(255) NOT NULL default '',
		range varchar(255) NOT NULL default '',
		reason varchar(255) NOT NULL default '',
		redirect varchar(255) NOT NULL default '',
		thetime int(15) NOT NULL,
		timespan int(15) NOT NULL,
		PRIMARY KEY (id)
		); made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), include_once('/plugins/wp-easyban/wp-easyban.php'), easyban_mysql_install, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[10-Apr-2025 10:33:54 UTC] PHP Warning:  Undefined variable $easyban_config in /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php on line 25
[10-Apr-2025 10:33:54 UTC] PHP Warning:  Trying to access array offset on value of type null in /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php on line 25
[10-Apr-2025 10:33:54 UTC] PHP Warning:  Undefined array key "REMOTE_ADDR" in /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php on line 45
[10-Apr-2025 10:34:03 UTC] PHP Warning:  Undefined variable $easyban_config in /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php on line 25
[10-Apr-2025 10:34:03 UTC] PHP Warning:  Trying to access array offset on value of type null in /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php on line 25
[10-Apr-2025 10:34:03 UTC] PHP Warning:  Undefined array key "REMOTE_ADDR" in /wordpress/wp-content/plugins/wp-easyban/wp-easyban.php on line 45
[10-Apr-2025 10:35:38 UTC] PHP Deprecated:  Required parameter $photo_id follows optional parameter $blog_id in /wordpress/wp-content/plugins/wp2flickr/phpFlickr-3.1/phpFlickr.php on line 707
[10-Apr-2025 10:35:38 UTC] PHP Deprecated:  Required parameter $title follows optional parameter $blog_id in /wordpress/wp-content/plugins/wp2flickr/phpFlickr-3.1/phpFlickr.php on line 707
[10-Apr-2025 10:35:38 UTC] PHP Deprecated:  Required parameter $description follows optional parameter $blog_id in /wordpress/wp-content/plugins/wp2flickr/phpFlickr-3.1/phpFlickr.php on line 707
[10-Apr-2025 10:35:38 UTC] PHP Fatal error:  Unparenthesized `a ? b : c ? d : e` is not supported. Use either `(a ? b : c) ? d : e` or `a ? b : (c ? d : e)` in /wordpress/wp-content/plugins/wp2flickr/functions.php on line 8

    at Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21:903)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    ... 2 lines matching cause stack trace ...
    at process.processTimers (node:internal/timers:543:7)
    at async Y (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1159) {
  [cause]: Error: Error when executing the blueprint step #4 ({"step":"installPlugin","pluginData":{"resource":"wordpress.org/plugins","slug":"wp2flickr"},"options":{"activate":true}}) : PHP.run() failed with exit code 255 and the following output: 
      at Object.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12407:32)
      at processTicksAndRejections (node:internal/process/task_queues:105:5)
      ... 2 lines matching cause stack trace ...
      at process.processTimers (node:internal/timers:543:7)
      at async ns (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12508:3)
      at async Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21:568)
      at async Y (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1159) {
    [cause]: PHPExecutionFailureError: PHP.run() failed with exit code 255 and the following output: 
        at PHP.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@php-wasm/universal/index.js:984:19)
        at processTicksAndRejections (node:internal/process/task_queues:105:5)
        at runNextTicks (node:internal/process/task_queues:69:3)
        at listOnTimeout (node:internal/timers:569:9)
        at process.processTimers (node:internal/timers:543:7)
        at async vr (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:33:39)
        at async Object.ut [as installPlugin] (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:1084:42)
        at async d (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12473:30)
        at async Object.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12404:23)
        at async ns (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12508:3) {
      response: PHPResponse {
        httpStatusCode: 500,
        headers: {
          'x-powered-by': [ 'PHP/8.0.30-dev' ],
          'set-cookie': [ 'PHPSESSID=0db42c5fca1b4d3a9261907bfbad1a60; path=/' ],
          expires: [ 'Thu, 19 Nov 1981 08:52:00 GMT' ],
          'cache-control': [ 'no-store, no-cache, must-revalidate' ],
          pragma: [ 'no-cache' ],
          'content-type': [ 'text/html; charset=UTF-8' ]
        },
        bytes: Uint8Array(0) [],
        exitCode: 255,
        errors: ''
      },
      source: 'request'
    }
  }
}

Node.js v23.11.0
