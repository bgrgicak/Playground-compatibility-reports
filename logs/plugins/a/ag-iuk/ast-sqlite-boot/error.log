file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/run-cli-j-geJYS3.js:325
        throw new Error($, { cause: h });
              ^

Error: [21-Jun-2025 15:50:58 UTC] PHP Notice:  Function _load_textdomain_just_in_time was called <strong>incorrectly</strong>. Translation loading for the <code>woocommerce</code> domain was triggered too early. This is usually an indicator for some code in the plugin or theme running too early. Translations should be loaded at the <code>init</code> action or later. Please see <a href="https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/">Debugging in WordPress</a> for more information. (This message was added in version 6.7.0.) in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:51:10 UTC] PHP Notice:  Undefined index: apd`.`atum_stock_status in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3146
[21-Jun-2025 15:51:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3147
[21-Jun-2025 15:51:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3148
[21-Jun-2025 15:51:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3149
[21-Jun-2025 15:51:10 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_posts p ON apd.product_id = p.ID
			INNER JOIN wp_postmeta pm ON p.ID = pm.post_id
			INNER JOIN wp_postmeta mpm ON p.ID = mpm.post_id
			SET apd.atum_stock_status = pm.meta_value
			WHERE p.post_type = 'product_variation' AND
			pm.meta_key = '_stock_status' AND mpm.meta_key = '_manage_stock' AND
	      	mpm.meta_value = 'yes' AND pm.meta_value <> apd.atum_stock_status
		</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_atum_product_data` `apd` INNER JOIN `wp_posts` `p` ON `apd`.`product_id` = `p`.`ID` INNER JOIN `wp_postmeta` `pm` ON `p`.`ID` = `pm`.`post_id` INNER JOIN `wp_postmeta` `mpm` ON `p`.`ID` = `mpm`.`post_id</li>
<li>Executing: 
				SELECT LOWER(column_name) AS COLUMN_NAME, is_nullable, data_type, column_default
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_atum_product_data` `apd` INNER JOIN `wp_posts` `p` ON `apd`.`product_id` = `p`.`ID` INNER JOIN `wp_postmeta` `pm` ON `p`.`ID` = `pm`.`post_id` INNER JOIN `wp_postmeta` `mpm` ON `p`.`ID` = `mpm`.`post_id</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Argument 1 passed to WP_SQLite_Driver::cast_value_in_non_strict_mode() must be of the type string, null given, called in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3160
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('Argument 1 pass...', 0, Object(TypeError))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('\n\t\t\tUPDATE wp_a...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('\n\t\t\tUPDATE wp_a...')
#3 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(880): WP_SQLite_DB->query('\n\t\t\tUPDATE wp_a...')
#4 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(143): Atum\Inc\Upgrade->update_atum_stock_status()
#5 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Main.php(145): Atum\Inc\Upgrade->__construct('0.0.1')
#6 /wordpress/wp-includes/class-wp-hook.php(324): Atum\Inc\Main->pre_init('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(727): do_action('init')
#10 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#11 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#12 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#13 {main}</pre>
 for query 
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_posts p ON apd.product_id = p.ID
			INNER JOIN wp_postmeta pm ON p.ID = pm.post_id
			INNER JOIN wp_postmeta mpm ON p.ID = mpm.post_id
			SET apd.atum_stock_status = pm.meta_value
			WHERE p.post_type = 'product_variation' AND
			pm.meta_key = '_stock_status' AND mpm.meta_key = '_manage_stock' AND
	      	mpm.meta_value = 'yes' AND pm.meta_value <> apd.atum_stock_status
		 made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('init'), WP_Hook->do_action, WP_Hook->apply_filters, Atum\Inc\Main->pre_init, Atum\Inc\Upgrade->__construct, Atum\Inc\Upgrade->update_atum_stock_status, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:51:11 UTC] PHP Notice:  Undefined index: apd`.`calc_backorders in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3146
[21-Jun-2025 15:51:11 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3147
[21-Jun-2025 15:51:11 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3148
[21-Jun-2025 15:51:11 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3149
[21-Jun-2025 15:51:11 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_postmeta pms ON (apd.product_id = pms.post_id AND pms.meta_key = '_stock')
			INNER JOIN wp_postmeta pmb ON (apd.product_id = pmb.post_id AND pmb.meta_key = '_backorders')
			SET apd.calc_backorders = pms.meta_value
			WHERE pmb.meta_value != 'no' AND pms.meta_value <= 0 
		</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_atum_product_data` `apd` INNER JOIN `wp_postmeta` `pms` ON ( `apd`.`product_id` = `pms`.`post_id` AND `pms`.`meta_key` = '_stock' ) INNER JOIN `wp_postmeta` `pmb` ON ( `apd`.`product_id` = `pmb`.`post_id` AND `pmb`.`meta_key` = '_backorders' </li>
<li>Executing: 
				SELECT LOWER(column_name) AS COLUMN_NAME, is_nullable, data_type, column_default
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_atum_product_data` `apd` INNER JOIN `wp_postmeta` `pms` ON ( `apd`.`product_id` = `pms`.`post_id` AND `pms`.`meta_key` = '_stock' ) INNER JOIN `wp_postmeta` `pmb` ON ( `apd`.`product_id` = `pmb`.`post_id` AND `pmb`.`meta_key` = '_backorders' </li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Argument 1 passed to WP_SQLite_Driver::cast_value_in_non_strict_mode() must be of the type string, null given, called in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3160
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('Argument 1 pass...', 0, Object(TypeError))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('\n\t\t\tUPDATE wp_a...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('\n\t\t\tUPDATE wp_a...')
#3 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(1201): WP_SQLite_DB->query('\n\t\t\tUPDATE wp_a...')
#4 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(193): Atum\Inc\Upgrade->update_calc_backorders()
#5 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Main.php(145): Atum\Inc\Upgrade->__construct('0.0.1')
#6 /wordpress/wp-includes/class-wp-hook.php(324): Atum\Inc\Main->pre_init('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(727): do_action('init')
#10 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#11 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#12 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#13 {main}</pre>
 for query 
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_postmeta pms ON (apd.product_id = pms.post_id AND pms.meta_key = '_stock')
			INNER JOIN wp_postmeta pmb ON (apd.product_id = pmb.post_id AND pmb.meta_key = '_backorders')
			SET apd.calc_backorders = pms.meta_value
			WHERE pmb.meta_value != 'no' AND pms.meta_value <= 0 
		 made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('init'), WP_Hook->do_action, WP_Hook->apply_filters, Atum\Inc\Main->pre_init, Atum\Inc\Upgrade->__construct, Atum\Inc\Upgrade->update_calc_backorders, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:51:18 UTC] An unexpected error occurred while trying to use PHP Intl Collator class, it may be caused by an incorrect installation of PHP Intl and ICU, and could be fixed by reinstallaing PHP Intl, see more details about PHP Intl installation: https://www.php.net/manual/en/intl.installation.php. Error message: Constructor failed
[21-Jun-2025 15:51:57 UTC] PHP Notice:  Function _load_textdomain_just_in_time was called <strong>incorrectly</strong>. Translation loading for the <code>woocommerce</code> domain was triggered too early. This is usually an indicator for some code in the plugin or theme running too early. Translations should be loaded at the <code>init</code> action or later. Please see <a href="https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/">Debugging in WordPress</a> for more information. (This message was added in version 6.7.0.) in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:52:10 UTC] PHP Notice:  Undefined index: apd`.`atum_stock_status in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3146
[21-Jun-2025 15:52:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3147
[21-Jun-2025 15:52:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3148
[21-Jun-2025 15:52:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3149
[21-Jun-2025 15:52:10 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_posts p ON apd.product_id = p.ID
			INNER JOIN wp_postmeta pm ON p.ID = pm.post_id
			INNER JOIN wp_postmeta mpm ON p.ID = mpm.post_id
			SET apd.atum_stock_status = pm.meta_value
			WHERE p.post_type = 'product_variation' AND
			pm.meta_key = '_stock_status' AND mpm.meta_key = '_manage_stock' AND
	      	mpm.meta_value = 'yes' AND pm.meta_value <> apd.atum_stock_status
		</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_atum_product_data` `apd` INNER JOIN `wp_posts` `p` ON `apd`.`product_id` = `p`.`ID` INNER JOIN `wp_postmeta` `pm` ON `p`.`ID` = `pm`.`post_id` INNER JOIN `wp_postmeta` `mpm` ON `p`.`ID` = `mpm`.`post_id</li>
<li>Executing: 
				SELECT LOWER(column_name) AS COLUMN_NAME, is_nullable, data_type, column_default
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_atum_product_data` `apd` INNER JOIN `wp_posts` `p` ON `apd`.`product_id` = `p`.`ID` INNER JOIN `wp_postmeta` `pm` ON `p`.`ID` = `pm`.`post_id` INNER JOIN `wp_postmeta` `mpm` ON `p`.`ID` = `mpm`.`post_id</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Argument 1 passed to WP_SQLite_Driver::cast_value_in_non_strict_mode() must be of the type string, null given, called in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3160
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('Argument 1 pass...', 0, Object(TypeError))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('\n\t\t\tUPDATE wp_a...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('\n\t\t\tUPDATE wp_a...')
#3 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(880): WP_SQLite_DB->query('\n\t\t\tUPDATE wp_a...')
#4 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(143): Atum\Inc\Upgrade->update_atum_stock_status()
#5 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Main.php(145): Atum\Inc\Upgrade->__construct('0.0.1')
#6 /wordpress/wp-includes/class-wp-hook.php(324): Atum\Inc\Main->pre_init('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(727): do_action('init')
#10 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#11 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#12 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#13 {main}</pre>
 for query 
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_posts p ON apd.product_id = p.ID
			INNER JOIN wp_postmeta pm ON p.ID = pm.post_id
			INNER JOIN wp_postmeta mpm ON p.ID = mpm.post_id
			SET apd.atum_stock_status = pm.meta_value
			WHERE p.post_type = 'product_variation' AND
			pm.meta_key = '_stock_status' AND mpm.meta_key = '_manage_stock' AND
	      	mpm.meta_value = 'yes' AND pm.meta_value <> apd.atum_stock_status
		 made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('init'), WP_Hook->do_action, WP_Hook->apply_filters, Atum\Inc\Main->pre_init, Atum\Inc\Upgrade->__construct, Atum\Inc\Upgrade->update_atum_stock_status, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:52:11 UTC] PHP Notice:  Undefined index: apd`.`calc_backorders in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3146
[21-Jun-2025 15:52:11 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3147
[21-Jun-2025 15:52:11 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3148
[21-Jun-2025 15:52:11 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3149
[21-Jun-2025 15:52:11 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_postmeta pms ON (apd.product_id = pms.post_id AND pms.meta_key = '_stock')
			INNER JOIN wp_postmeta pmb ON (apd.product_id = pmb.post_id AND pmb.meta_key = '_backorders')
			SET apd.calc_backorders = pms.meta_value
			WHERE pmb.meta_value != 'no' AND pms.meta_value <= 0 
		</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_atum_product_data` `apd` INNER JOIN `wp_postmeta` `pms` ON ( `apd`.`product_id` = `pms`.`post_id` AND `pms`.`meta_key` = '_stock' ) INNER JOIN `wp_postmeta` `pmb` ON ( `apd`.`product_id` = `pmb`.`post_id` AND `pmb`.`meta_key` = '_backorders' </li>
<li>Executing: 
				SELECT LOWER(column_name) AS COLUMN_NAME, is_nullable, data_type, column_default
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_atum_product_data` `apd` INNER JOIN `wp_postmeta` `pms` ON ( `apd`.`product_id` = `pms`.`post_id` AND `pms`.`meta_key` = '_stock' ) INNER JOIN `wp_postmeta` `pmb` ON ( `apd`.`product_id` = `pmb`.`post_id` AND `pmb`.`meta_key` = '_backorders' </li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Argument 1 passed to WP_SQLite_Driver::cast_value_in_non_strict_mode() must be of the type string, null given, called in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3160
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('Argument 1 pass...', 0, Object(TypeError))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('\n\t\t\tUPDATE wp_a...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('\n\t\t\tUPDATE wp_a...')
#3 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(1201): WP_SQLite_DB->query('\n\t\t\tUPDATE wp_a...')
#4 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(193): Atum\Inc\Upgrade->update_calc_backorders()
#5 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Main.php(145): Atum\Inc\Upgrade->__construct('0.0.1')
#6 /wordpress/wp-includes/class-wp-hook.php(324): Atum\Inc\Main->pre_init('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(727): do_action('init')
#10 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#11 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#12 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#13 {main}</pre>
 for query 
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_postmeta pms ON (apd.product_id = pms.post_id AND pms.meta_key = '_stock')
			INNER JOIN wp_postmeta pmb ON (apd.product_id = pmb.post_id AND pmb.meta_key = '_backorders')
			SET apd.calc_backorders = pms.meta_value
			WHERE pmb.meta_value != 'no' AND pms.meta_value <= 0 
		 made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('init'), WP_Hook->do_action, WP_Hook->apply_filters, Atum\Inc\Main->pre_init, Atum\Inc\Upgrade->__construct, Atum\Inc\Upgrade->update_calc_backorders, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:52:17 UTC] An unexpected error occurred while trying to use PHP Intl Collator class, it may be caused by an incorrect installation of PHP Intl and ICU, and could be fixed by reinstallaing PHP Intl, see more details about PHP Intl installation: https://www.php.net/manual/en/intl.installation.php. Error message: Constructor failed
[21-Jun-2025 15:52:56 UTC] PHP Notice:  Function _load_textdomain_just_in_time was called <strong>incorrectly</strong>. Translation loading for the <code>woocommerce</code> domain was triggered too early. This is usually an indicator for some code in the plugin or theme running too early. Translations should be loaded at the <code>init</code> action or later. Please see <a href="https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/">Debugging in WordPress</a> for more information. (This message was added in version 6.7.0.) in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:53:09 UTC] PHP Notice:  Undefined index: apd`.`atum_stock_status in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3146
[21-Jun-2025 15:53:09 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3147
[21-Jun-2025 15:53:09 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3148
[21-Jun-2025 15:53:09 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3149
[21-Jun-2025 15:53:09 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_posts p ON apd.product_id = p.ID
			INNER JOIN wp_postmeta pm ON p.ID = pm.post_id
			INNER JOIN wp_postmeta mpm ON p.ID = mpm.post_id
			SET apd.atum_stock_status = pm.meta_value
			WHERE p.post_type = 'product_variation' AND
			pm.meta_key = '_stock_status' AND mpm.meta_key = '_manage_stock' AND
	      	mpm.meta_value = 'yes' AND pm.meta_value <> apd.atum_stock_status
		</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_atum_product_data` `apd` INNER JOIN `wp_posts` `p` ON `apd`.`product_id` = `p`.`ID` INNER JOIN `wp_postmeta` `pm` ON `p`.`ID` = `pm`.`post_id` INNER JOIN `wp_postmeta` `mpm` ON `p`.`ID` = `mpm`.`post_id</li>
<li>Executing: 
				SELECT LOWER(column_name) AS COLUMN_NAME, is_nullable, data_type, column_default
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_atum_product_data` `apd` INNER JOIN `wp_posts` `p` ON `apd`.`product_id` = `p`.`ID` INNER JOIN `wp_postmeta` `pm` ON `p`.`ID` = `pm`.`post_id` INNER JOIN `wp_postmeta` `mpm` ON `p`.`ID` = `mpm`.`post_id</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Argument 1 passed to WP_SQLite_Driver::cast_value_in_non_strict_mode() must be of the type string, null given, called in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3160
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('Argument 1 pass...', 0, Object(TypeError))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('\n\t\t\tUPDATE wp_a...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('\n\t\t\tUPDATE wp_a...')
#3 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(880): WP_SQLite_DB->query('\n\t\t\tUPDATE wp_a...')
#4 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(143): Atum\Inc\Upgrade->update_atum_stock_status()
#5 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Main.php(145): Atum\Inc\Upgrade->__construct('0.0.1')
#6 /wordpress/wp-includes/class-wp-hook.php(324): Atum\Inc\Main->pre_init('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(727): do_action('init')
#10 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#11 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#12 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#13 {main}</pre>
 for query 
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_posts p ON apd.product_id = p.ID
			INNER JOIN wp_postmeta pm ON p.ID = pm.post_id
			INNER JOIN wp_postmeta mpm ON p.ID = mpm.post_id
			SET apd.atum_stock_status = pm.meta_value
			WHERE p.post_type = 'product_variation' AND
			pm.meta_key = '_stock_status' AND mpm.meta_key = '_manage_stock' AND
	      	mpm.meta_value = 'yes' AND pm.meta_value <> apd.atum_stock_status
		 made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('init'), WP_Hook->do_action, WP_Hook->apply_filters, Atum\Inc\Main->pre_init, Atum\Inc\Upgrade->__construct, Atum\Inc\Upgrade->update_atum_stock_status, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:53:10 UTC] PHP Notice:  Undefined index: apd`.`calc_backorders in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3146
[21-Jun-2025 15:53:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3147
[21-Jun-2025 15:53:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3148
[21-Jun-2025 15:53:10 UTC] PHP Notice:  Trying to access array offset on value of type null in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3149
[21-Jun-2025 15:53:10 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_postmeta pms ON (apd.product_id = pms.post_id AND pms.meta_key = '_stock')
			INNER JOIN wp_postmeta pmb ON (apd.product_id = pmb.post_id AND pmb.meta_key = '_backorders')
			SET apd.calc_backorders = pms.meta_value
			WHERE pmb.meta_value != 'no' AND pms.meta_value <= 0 
		</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_atum_product_data` `apd` INNER JOIN `wp_postmeta` `pms` ON ( `apd`.`product_id` = `pms`.`post_id` AND `pms`.`meta_key` = '_stock' ) INNER JOIN `wp_postmeta` `pmb` ON ( `apd`.`product_id` = `pmb`.`post_id` AND `pmb`.`meta_key` = '_backorders' </li>
<li>Executing: 
				SELECT LOWER(column_name) AS COLUMN_NAME, is_nullable, data_type, column_default
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_atum_product_data` `apd` INNER JOIN `wp_postmeta` `pms` ON ( `apd`.`product_id` = `pms`.`post_id` AND `pms`.`meta_key` = '_stock' ) INNER JOIN `wp_postmeta` `pmb` ON ( `apd`.`product_id` = `pmb`.`post_id` AND `pmb`.`meta_key` = '_backorders' </li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Argument 1 passed to WP_SQLite_Driver::cast_value_in_non_strict_mode() must be of the type string, null given, called in /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php on line 3160
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('Argument 1 pass...', 0, Object(TypeError))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('\n\t\t\tUPDATE wp_a...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('\n\t\t\tUPDATE wp_a...')
#3 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(1201): WP_SQLite_DB->query('\n\t\t\tUPDATE wp_a...')
#4 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Upgrade.php(193): Atum\Inc\Upgrade->update_calc_backorders()
#5 /wordpress/wp-content/plugins/atum-stock-manager-for-woocommerce/classes/Inc/Main.php(145): Atum\Inc\Upgrade->__construct('0.0.1')
#6 /wordpress/wp-includes/class-wp-hook.php(324): Atum\Inc\Main->pre_init('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(727): do_action('init')
#10 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#11 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#12 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#13 {main}</pre>
 for query 
			UPDATE wp_atum_product_data apd
			INNER JOIN wp_postmeta pms ON (apd.product_id = pms.post_id AND pms.meta_key = '_stock')
			INNER JOIN wp_postmeta pmb ON (apd.product_id = pmb.post_id AND pmb.meta_key = '_backorders')
			SET apd.calc_backorders = pms.meta_value
			WHERE pmb.meta_value != 'no' AND pms.meta_value <= 0 
		 made by require_once('wp-load.php'), require_once('wp-config.php'), require_once('wp-settings.php'), do_action('init'), WP_Hook->do_action, WP_Hook->apply_filters, Atum\Inc\Main->pre_init, Atum\Inc\Upgrade->__construct, Atum\Inc\Upgrade->update_calc_backorders, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:53:17 UTC] An unexpected error occurred while trying to use PHP Intl Collator class, it may be caused by an incorrect installation of PHP Intl and ICU, and could be fixed by reinstallaing PHP Intl, see more details about PHP Intl installation: https://www.php.net/manual/en/intl.installation.php. Error message: Constructor failed
[21-Jun-2025 15:54:23 UTC] PHP Deprecated:  Function register_sidebar_widget is <strong>deprecated</strong> since version 2.8.0! Use wp_register_sidebar_widget() instead. in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:54:23 UTC] PHP Deprecated:  Function register_widget_control is <strong>deprecated</strong> since version 2.8.0! Use wp_register_widget_control() instead. in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:54:33 UTC] PHP Deprecated:  Function register_sidebar_widget is <strong>deprecated</strong> since version 2.8.0! Use wp_register_sidebar_widget() instead. in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:54:33 UTC] PHP Deprecated:  Function register_widget_control is <strong>deprecated</strong> since version 2.8.0! Use wp_register_widget_control() instead. in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:54:42 UTC] PHP Deprecated:  Function register_sidebar_widget is <strong>deprecated</strong> since version 2.8.0! Use wp_register_sidebar_widget() instead. in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:54:42 UTC] PHP Deprecated:  Function register_widget_control is <strong>deprecated</strong> since version 2.8.0! Use wp_register_widget_control() instead. in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:55:21 UTC] PHP Notice:  Function _load_textdomain_just_in_time was called <strong>incorrectly</strong>. Translation loading for the <code>adsense-widget</code> domain was triggered too early. This is usually an indicator for some code in the plugin or theme running too early. Translations should be loaded at the <code>init</code> action or later. Please see <a href="https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/">Debugging in WordPress</a> for more information. (This message was added in version 6.7.0.) in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:55:31 UTC] PHP Notice:  Function _load_textdomain_just_in_time was called <strong>incorrectly</strong>. Translation loading for the <code>adsense-widget</code> domain was triggered too early. This is usually an indicator for some code in the plugin or theme running too early. Translations should be loaded at the <code>init</code> action or later. Please see <a href="https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/">Debugging in WordPress</a> for more information. (This message was added in version 6.7.0.) in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:55:41 UTC] PHP Notice:  Function _load_textdomain_just_in_time was called <strong>incorrectly</strong>. Translation loading for the <code>adsense-widget</code> domain was triggered too early. This is usually an indicator for some code in the plugin or theme running too early. Translations should be loaded at the <code>init</code> action or later. Please see <a href="https://developer.wordpress.org/advanced-administration/debug/debug-wordpress/">Debugging in WordPress</a> for more information. (This message was added in version 6.7.0.) in /wordpress/wp-includes/functions.php on line 6121
[21-Jun-2025 15:56:45 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>ALTER TABLE wp_aff_hits
		ADD COLUMN campaign_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_hits_acm (affiliate_id, campaign_id);</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: SELECT
					COLUMN_NAME,
					LOWER(COLUMN_NAME) AS COLUMN_NAME_LOWERCASE
				FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_columns` (`table_schema`, `table_name`, `column_name`, `ordinal_position`, `column_default`, `is_nullable`, `data_type`, `character_maximum_length`, `character_octet_length`, `numeric_precision`, `numeric_scale`, `datetime_precision`, `character_set_name`, `collation_name`, `column_type`, `column_key`, `extra`, `privileges`, `column_comment`, `generation_expression`, `srs_id`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, campaign_id, 14, , YES, bigint, , , 20, 0, , , , bigint(20) unsigned, , , select,insert,update,references, , , </li>
<li>Executing: 
					SELECT column_name, data_type, is_nullable, character_maximum_length
					FROM `_wp_sqlite_mysql_information_schema_columns`
					WHERE table_schema = ?
					AND table_name = ?
					AND column_name IN (?,?)
				 | parameters: database_name_here, wp_aff_hits, affiliate_id, campaign_id</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_statistics` (`table_schema`, `table_name`, `non_unique`, `index_schema`, `index_name`, `seq_in_index`, `column_name`, `collation`, `cardinality`, `sub_part`, `packed`, `nullable`, `index_type`, `comment`, `index_comment`, `is_visible`, `expression`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, 1, database_name_here, aff_hits_acm, 1, affiliate_id, A, 0, , , , BTREE, , , YES, </li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_statistics` (`table_schema`, `table_name`, `non_unique`, `index_schema`, `index_name`, `seq_in_index`, `column_name`, `collation`, `cardinality`, `sub_part`, `packed`, `nullable`, `index_type`, `comment`, `index_comment`, `is_visible`, `expression`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, 1, database_name_here, aff_hits_acm, 2, campaign_id, A, 0, , , YES, BTREE, , , YES, </li>
<li>Executing: 
				UPDATE `_wp_sqlite_mysql_information_schema_columns` AS c
				SET (column_key, is_nullable) = (
					SELECT
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'PRI'
							WHEN MAX(s.non_unique = 0 AND s.seq_in_index = 1) THEN 'UNI'
							WHEN MAX(s.seq_in_index = 1) THEN 'MUL'
							ELSE ''
						END,
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'NO'
							ELSE c.is_nullable
						END
					FROM `_wp_sqlite_mysql_information_schema_statistics` AS s
					WHERE s.table_schema = c.table_schema
					AND s.table_name = c.table_name
					AND s.column_name = c.column_name
				)
			    WHERE c.table_schema = ?
			    AND c.table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: PRAGMA foreign_keys | (no parameters)</li>
<li>Executing: PRAGMA foreign_keys = OFF | (no parameters)</li>
<li>Executing: 
				SELECT *
				FROM `_wp_sqlite_mysql_information_schema_tables`
				WHERE table_type = 'BASE TABLE'
				AND table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT * FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? ORDER BY ordinal_position | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: 
					SELECT *
					FROM `_wp_sqlite_mysql_information_schema_statistics`
					WHERE table_schema = ?
					AND table_name = ?
					ORDER BY
						INDEX_NAME = 'PRIMARY' DESC,
						NON_UNIQUE = '0' DESC,
						INDEX_TYPE = 'SPATIAL' DESC,
						INDEX_TYPE = 'BTREE' DESC,
						INDEX_TYPE = 'FULLTEXT' DESC,
						ROWID,
						SEQ_IN_INDEX
				 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: CREATE TABLE `_wp_sqlite_tmp_wp_aff_hits_6856d63dc5ff8` (
  `hit_id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `hash` TEXT COLLATE NOCASE,
  `affiliate_id` INTEGER NOT NULL DEFAULT '0',
  `campaign_id` INTEGER,
  `date` TEXT COLLATE NOCASE NOT NULL,
  `datetime` TEXT COLLATE NOCASE NOT NULL,
  `ip` INTEGER NOT NULL DEFAULT '0',
  `src_uri_id` INTEGER,
  `dest_uri_id` INTEGER,
  `user_agent_id` INTEGER,
  `is_robot` INTEGER DEFAULT '0',
  `user_id` INTEGER,
  `type` TEXT COLLATE NOCASE,
  `campaign_id` INTEGER
) STRICT | (no parameters)</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
SQLSTATE[HY000]: General error: 1 duplicate column name: campaign_id
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('SQLSTATE[HY000]...', 'HY000', Object(PDOException))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('ALTER TABLE wp_...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('ALTER TABLE wp_...')
#3 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(751): WP_SQLite_DB->query('ALTER TABLE wp_...')
#4 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(511): affiliates_update()
#5 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(235): affiliates_setup()
#6 /wordpress/wp-includes/class-wp-hook.php(324): affiliates_activate(false)
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_affili...', false)
#10 /internal/eval.php(20): activate_plugin('affiliates/affi...')
#11 {main}</pre>
 for query ALTER TABLE wp_aff_hits
		ADD COLUMN campaign_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_hits_acm (affiliate_id, campaign_id); made by activate_plugin, do_action('activate_affiliates/affiliates.php'), WP_Hook->do_action, WP_Hook->apply_filters, affiliates_activate, affiliates_setup, affiliates_update, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:56:45 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>ALTER TABLE wp_aff_hits
		ADD COLUMN hit_id BIGINT(20) UNSIGNED NOT NULL auto_increment,
		ADD COLUMN hash CHAR(64) DEFAULT NULL,
		DROP PRIMARY KEY,
		ADD PRIMARY KEY (hit_id),
		ADD INDEX hash (hash);</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: SELECT
					COLUMN_NAME,
					LOWER(COLUMN_NAME) AS COLUMN_NAME_LOWERCASE
				FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_columns` (`table_schema`, `table_name`, `column_name`, `ordinal_position`, `column_default`, `is_nullable`, `data_type`, `character_maximum_length`, `character_octet_length`, `numeric_precision`, `numeric_scale`, `datetime_precision`, `character_set_name`, `collation_name`, `column_type`, `column_key`, `extra`, `privileges`, `column_comment`, `generation_expression`, `srs_id`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, hit_id, 14, , NO, bigint, , , 20, 0, , , , bigint(20) unsigned, , auto_increment, select,insert,update,references, , , </li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_columns` (`table_schema`, `table_name`, `column_name`, `ordinal_position`, `column_default`, `is_nullable`, `data_type`, `character_maximum_length`, `character_octet_length`, `numeric_precision`, `numeric_scale`, `datetime_precision`, `character_set_name`, `collation_name`, `column_type`, `column_key`, `extra`, `privileges`, `column_comment`, `generation_expression`, `srs_id`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, hash, 15, , YES, char, 64, 256, , , , utf8mb4, utf8mb4_general_ci, char(64), , , select,insert,update,references, , , </li>
<li>Executing: 
					SELECT column_name, data_type, is_nullable, character_maximum_length
					FROM `_wp_sqlite_mysql_information_schema_columns`
					WHERE table_schema = ?
					AND table_name = ?
					AND column_name IN (?)
				 | parameters: database_name_here, wp_aff_hits, hit_id</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_statistics` (`table_schema`, `table_name`, `non_unique`, `index_schema`, `index_name`, `seq_in_index`, `column_name`, `collation`, `cardinality`, `sub_part`, `packed`, `nullable`, `index_type`, `comment`, `index_comment`, `is_visible`, `expression`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, 0, database_name_here, PRIMARY, 1, hit_id, A, 0, , , , BTREE, , , YES, </li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_table_constraints` (`table_schema`, `table_name`, `constraint_schema`, `constraint_name`, `constraint_type`) VALUES (?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, database_name_here, PRIMARY, PRIMARY KEY</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
SQLSTATE[23000]: Integrity constraint violation: 19 UNIQUE constraint failed: _wp_sqlite_mysql_information_schema_table_constraints.CONSTRAINT_SCHEMA, _wp_sqlite_mysql_information_schema_table_constraints.TABLE_NAME, _wp_sqlite_mysql_information_schema_table_constraints.CONSTRAINT_TYPE, _wp_sqlite_mysql_information_schema_table_constraints.CONSTRAINT_NAME
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('SQLSTATE[23000]...', '23000', Object(PDOException))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('ALTER TABLE wp_...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('ALTER TABLE wp_...')
#3 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(751): WP_SQLite_DB->query('ALTER TABLE wp_...')
#4 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(511): affiliates_update()
#5 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(235): affiliates_setup()
#6 /wordpress/wp-includes/class-wp-hook.php(324): affiliates_activate(false)
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_affili...', false)
#10 /internal/eval.php(20): activate_plugin('affiliates/affi...')
#11 {main}</pre>
 for query ALTER TABLE wp_aff_hits
		ADD COLUMN hit_id BIGINT(20) UNSIGNED NOT NULL auto_increment,
		ADD COLUMN hash CHAR(64) DEFAULT NULL,
		DROP PRIMARY KEY,
		ADD PRIMARY KEY (hit_id),
		ADD INDEX hash (hash); made by activate_plugin, do_action('activate_affiliates/affiliates.php'), WP_Hook->do_action, WP_Hook->apply_filters, affiliates_activate, affiliates_setup, affiliates_update, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:56:46 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>ALTER TABLE wp_aff_hits
		ADD COLUMN src_uri_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD COLUMN dest_uri_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_hits_src_uri (src_uri_id),
		ADD INDEX aff_hits_dest_uri (dest_uri_id);</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: SELECT
					COLUMN_NAME,
					LOWER(COLUMN_NAME) AS COLUMN_NAME_LOWERCASE
				FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_columns` (`table_schema`, `table_name`, `column_name`, `ordinal_position`, `column_default`, `is_nullable`, `data_type`, `character_maximum_length`, `character_octet_length`, `numeric_precision`, `numeric_scale`, `datetime_precision`, `character_set_name`, `collation_name`, `column_type`, `column_key`, `extra`, `privileges`, `column_comment`, `generation_expression`, `srs_id`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, src_uri_id, 14, , YES, bigint, , , 20, 0, , , , bigint(20) unsigned, , , select,insert,update,references, , , </li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_columns` (`table_schema`, `table_name`, `column_name`, `ordinal_position`, `column_default`, `is_nullable`, `data_type`, `character_maximum_length`, `character_octet_length`, `numeric_precision`, `numeric_scale`, `datetime_precision`, `character_set_name`, `collation_name`, `column_type`, `column_key`, `extra`, `privileges`, `column_comment`, `generation_expression`, `srs_id`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, dest_uri_id, 15, , YES, bigint, , , 20, 0, , , , bigint(20) unsigned, , , select,insert,update,references, , , </li>
<li>Executing: 
					SELECT column_name, data_type, is_nullable, character_maximum_length
					FROM `_wp_sqlite_mysql_information_schema_columns`
					WHERE table_schema = ?
					AND table_name = ?
					AND column_name IN (?)
				 | parameters: database_name_here, wp_aff_hits, src_uri_id</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_statistics` (`table_schema`, `table_name`, `non_unique`, `index_schema`, `index_name`, `seq_in_index`, `column_name`, `collation`, `cardinality`, `sub_part`, `packed`, `nullable`, `index_type`, `comment`, `index_comment`, `is_visible`, `expression`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, 1, database_name_here, aff_hits_src_uri, 1, src_uri_id, A, 0, , , YES, BTREE, , , YES, </li>
<li>Executing: 
				UPDATE `_wp_sqlite_mysql_information_schema_columns` AS c
				SET (column_key, is_nullable) = (
					SELECT
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'PRI'
							WHEN MAX(s.non_unique = 0 AND s.seq_in_index = 1) THEN 'UNI'
							WHEN MAX(s.seq_in_index = 1) THEN 'MUL'
							ELSE ''
						END,
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'NO'
							ELSE c.is_nullable
						END
					FROM `_wp_sqlite_mysql_information_schema_statistics` AS s
					WHERE s.table_schema = c.table_schema
					AND s.table_name = c.table_name
					AND s.column_name = c.column_name
				)
			    WHERE c.table_schema = ?
			    AND c.table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: 
					SELECT column_name, data_type, is_nullable, character_maximum_length
					FROM `_wp_sqlite_mysql_information_schema_columns`
					WHERE table_schema = ?
					AND table_name = ?
					AND column_name IN (?)
				 | parameters: database_name_here, wp_aff_hits, dest_uri_id</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_statistics` (`table_schema`, `table_name`, `non_unique`, `index_schema`, `index_name`, `seq_in_index`, `column_name`, `collation`, `cardinality`, `sub_part`, `packed`, `nullable`, `index_type`, `comment`, `index_comment`, `is_visible`, `expression`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, 1, database_name_here, aff_hits_dest_uri, 1, dest_uri_id, A, 0, , , YES, BTREE, , , YES, </li>
<li>Executing: 
				UPDATE `_wp_sqlite_mysql_information_schema_columns` AS c
				SET (column_key, is_nullable) = (
					SELECT
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'PRI'
							WHEN MAX(s.non_unique = 0 AND s.seq_in_index = 1) THEN 'UNI'
							WHEN MAX(s.seq_in_index = 1) THEN 'MUL'
							ELSE ''
						END,
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'NO'
							ELSE c.is_nullable
						END
					FROM `_wp_sqlite_mysql_information_schema_statistics` AS s
					WHERE s.table_schema = c.table_schema
					AND s.table_name = c.table_name
					AND s.column_name = c.column_name
				)
			    WHERE c.table_schema = ?
			    AND c.table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: PRAGMA foreign_keys | (no parameters)</li>
<li>Executing: PRAGMA foreign_keys = OFF | (no parameters)</li>
<li>Executing: 
				SELECT *
				FROM `_wp_sqlite_mysql_information_schema_tables`
				WHERE table_type = 'BASE TABLE'
				AND table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT * FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? ORDER BY ordinal_position | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: 
					SELECT *
					FROM `_wp_sqlite_mysql_information_schema_statistics`
					WHERE table_schema = ?
					AND table_name = ?
					ORDER BY
						INDEX_NAME = 'PRIMARY' DESC,
						NON_UNIQUE = '0' DESC,
						INDEX_TYPE = 'SPATIAL' DESC,
						INDEX_TYPE = 'BTREE' DESC,
						INDEX_TYPE = 'FULLTEXT' DESC,
						ROWID,
						SEQ_IN_INDEX
				 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: CREATE TABLE `_wp_sqlite_tmp_wp_aff_hits_6856d63e00fa0` (
  `hit_id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `hash` TEXT COLLATE NOCASE,
  `affiliate_id` INTEGER NOT NULL DEFAULT '0',
  `campaign_id` INTEGER,
  `date` TEXT COLLATE NOCASE NOT NULL,
  `datetime` TEXT COLLATE NOCASE NOT NULL,
  `ip` INTEGER NOT NULL DEFAULT '0',
  `src_uri_id` INTEGER,
  `dest_uri_id` INTEGER,
  `user_agent_id` INTEGER,
  `is_robot` INTEGER DEFAULT '0',
  `user_id` INTEGER,
  `type` TEXT COLLATE NOCASE,
  `src_uri_id` INTEGER,
  `dest_uri_id` INTEGER
) STRICT | (no parameters)</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
SQLSTATE[HY000]: General error: 1 duplicate column name: src_uri_id
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('SQLSTATE[HY000]...', 'HY000', Object(PDOException))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('ALTER TABLE wp_...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('ALTER TABLE wp_...')
#3 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(751): WP_SQLite_DB->query('ALTER TABLE wp_...')
#4 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(511): affiliates_update()
#5 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(235): affiliates_setup()
#6 /wordpress/wp-includes/class-wp-hook.php(324): affiliates_activate(false)
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_affili...', false)
#10 /internal/eval.php(20): activate_plugin('affiliates/affi...')
#11 {main}</pre>
 for query ALTER TABLE wp_aff_hits
		ADD COLUMN src_uri_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD COLUMN dest_uri_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_hits_src_uri (src_uri_id),
		ADD INDEX aff_hits_dest_uri (dest_uri_id); made by activate_plugin, do_action('activate_affiliates/affiliates.php'), WP_Hook->do_action, WP_Hook->apply_filters, affiliates_activate, affiliates_setup, affiliates_update, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:56:46 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>ALTER TABLE wp_aff_hits
		ADD COLUMN user_agent_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_hits_ua (user_agent_id);</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: SELECT
					COLUMN_NAME,
					LOWER(COLUMN_NAME) AS COLUMN_NAME_LOWERCASE
				FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_hits</li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_sqlite_mysql_information_schema_columns`
				WHERE table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_columns` (`table_schema`, `table_name`, `column_name`, `ordinal_position`, `column_default`, `is_nullable`, `data_type`, `character_maximum_length`, `character_octet_length`, `numeric_precision`, `numeric_scale`, `datetime_precision`, `character_set_name`, `collation_name`, `column_type`, `column_key`, `extra`, `privileges`, `column_comment`, `generation_expression`, `srs_id`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, user_agent_id, 14, , YES, bigint, , , 20, 0, , , , bigint(20) unsigned, , , select,insert,update,references, , , </li>
<li>Executing: 
					SELECT column_name, data_type, is_nullable, character_maximum_length
					FROM `_wp_sqlite_mysql_information_schema_columns`
					WHERE table_schema = ?
					AND table_name = ?
					AND column_name IN (?)
				 | parameters: database_name_here, wp_aff_hits, user_agent_id</li>
<li>Executing: INSERT INTO `_wp_sqlite_mysql_information_schema_statistics` (`table_schema`, `table_name`, `non_unique`, `index_schema`, `index_name`, `seq_in_index`, `column_name`, `collation`, `cardinality`, `sub_part`, `packed`, `nullable`, `index_type`, `comment`, `index_comment`, `is_visible`, `expression`) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) | parameters: database_name_here, wp_aff_hits, 1, database_name_here, aff_hits_ua, 1, user_agent_id, A, 0, , , YES, BTREE, , , YES, </li>
<li>Executing: 
				UPDATE `_wp_sqlite_mysql_information_schema_columns` AS c
				SET (column_key, is_nullable) = (
					SELECT
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'PRI'
							WHEN MAX(s.non_unique = 0 AND s.seq_in_index = 1) THEN 'UNI'
							WHEN MAX(s.seq_in_index = 1) THEN 'MUL'
							ELSE ''
						END,
						CASE
							WHEN MAX(s.index_name = 'PRIMARY') THEN 'NO'
							ELSE c.is_nullable
						END
					FROM `_wp_sqlite_mysql_information_schema_statistics` AS s
					WHERE s.table_schema = c.table_schema
					AND s.table_name = c.table_name
					AND s.column_name = c.column_name
				)
			    WHERE c.table_schema = ?
			    AND c.table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: PRAGMA foreign_keys | (no parameters)</li>
<li>Executing: PRAGMA foreign_keys = OFF | (no parameters)</li>
<li>Executing: 
				SELECT *
				FROM `_wp_sqlite_mysql_information_schema_tables`
				WHERE table_type = 'BASE TABLE'
				AND table_schema = ?
				AND table_name = ?
			 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: SELECT * FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? ORDER BY ordinal_position | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: 
					SELECT *
					FROM `_wp_sqlite_mysql_information_schema_statistics`
					WHERE table_schema = ?
					AND table_name = ?
					ORDER BY
						INDEX_NAME = 'PRIMARY' DESC,
						NON_UNIQUE = '0' DESC,
						INDEX_TYPE = 'SPATIAL' DESC,
						INDEX_TYPE = 'BTREE' DESC,
						INDEX_TYPE = 'FULLTEXT' DESC,
						ROWID,
						SEQ_IN_INDEX
				 | parameters: database_name_here, wp_aff_hits</li>
<li>Executing: CREATE TABLE `_wp_sqlite_tmp_wp_aff_hits_6856d63e08ca0` (
  `hit_id` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
  `hash` TEXT COLLATE NOCASE,
  `affiliate_id` INTEGER NOT NULL DEFAULT '0',
  `campaign_id` INTEGER,
  `date` TEXT COLLATE NOCASE NOT NULL,
  `datetime` TEXT COLLATE NOCASE NOT NULL,
  `ip` INTEGER NOT NULL DEFAULT '0',
  `src_uri_id` INTEGER,
  `dest_uri_id` INTEGER,
  `user_agent_id` INTEGER,
  `is_robot` INTEGER DEFAULT '0',
  `user_id` INTEGER,
  `type` TEXT COLLATE NOCASE,
  `user_agent_id` INTEGER
) STRICT | (no parameters)</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
SQLSTATE[HY000]: General error: 1 duplicate column name: user_agent_id
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite-ast/class-wp-sqlite-driver.php(683): WP_SQLite_Driver->new_driver_exception('SQLSTATE[HY000]...', 'HY000', Object(PDOException))
#1 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(491): WP_SQLite_Driver->query('ALTER TABLE wp_...')
#2 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(432): WP_SQLite_DB->_do_query('ALTER TABLE wp_...')
#3 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(751): WP_SQLite_DB->query('ALTER TABLE wp_...')
#4 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(511): affiliates_update()
#5 /wordpress/wp-content/plugins/affiliates/lib/core/wp-init.php(235): affiliates_setup()
#6 /wordpress/wp-includes/class-wp-hook.php(324): affiliates_activate(false)
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_affili...', false)
#10 /internal/eval.php(20): activate_plugin('affiliates/affi...')
#11 {main}</pre>
 for query ALTER TABLE wp_aff_hits
		ADD COLUMN user_agent_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_hits_ua (user_agent_id); made by activate_plugin, do_action('activate_affiliates/affiliates.php'), WP_Hook->do_action, WP_Hook->apply_filters, affiliates_activate, affiliates_setup, affiliates_update, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[21-Jun-2025 15:56:46 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>ALTER TABLE wp_aff_referrals
		ADD COLUMN campaign_id BIGINT(20) UNSIGNED DEFAULT NULL,
		ADD INDEX aff_referrals_ac (affiliate_id, campaign_id),
		ADD INDEX aff_referrals_c (campaign_id);</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN IMMEDIATE | (no parameters)</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_referrals</li>
<li>Executing: SELECT
					COLUMN_NAME,
					LOWER(COLUMN_NAME) AS COLUMN_NAME_LOWERCASE
				FROM `_wp_sqlite_mysql_information_schema_columns` WHERE table_schema = ? AND table_name = ? | parameters: database_name_here, wp_aff_referrals</li>
<li>Executing: SELECT 1 FROM sqlite_temp_schema WHERE type = 'table' AND name = ? | parameters: wp_aff_referrals</li>
<li>Executing: 
				SELECT MAX(ordinal_position)
				FROM `_wp_s
