[
{"message":"file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:20\n`)},constants:R,phpIniEntries:{\"openssl.cafile\":\"/internal/shared/ca-bundle.crt\",allow_url_fopen:\"1\",disable_functions:\"\"},hooks:{async beforeWordPressFiles(h){t.mountBeforeInstall&&p(h,t.mountBeforeInstall)}}});const v=await s.getPrimaryPhp();try{if(n&&!t.mountBeforeInstall&&g.writeFileSync(f,await q(v,\"/wordpress\")),t.mount&&p(v,t.mount),d=!0,u){const{php:h,reap:m}=await s.processManager.acquirePHPInstance();try{c.log(\"Running the Blueprint...\"),await x(u,h),c.log(\"Finished running the blueprint\")}finally{m()}}a===\"build-snapshot\"?(await r(t.outfile),c.log(`WordPress exported to ${t.outfile}`),process.exit(0)):a===\"run-blueprint\"?(c.log(\"Blueprint executed\"),process.exit(0)):c.log(`WordPress is running on ${l}`)}catch(h){if(!t.debug)throw h;const m=v.readFileAsText(D);throw new Error(m,{cause:h})}},async handleRequest(o){return d?await s.request(o):I.forHttpCode(502,\"WordPress is not ready yet\")}})}Q();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ^\n","level":"FATAL","type":"PLAYGROUND","test":"jspi-boot","plugin":"shashin","details":"file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:20\n`)},constants:R,phpIniEntries:{\"openssl.cafile\":\"/internal/shared/ca-bundle.crt\",allow_url_fopen:\"1\",disable_functions:\"\"},hooks:{async beforeWordPressFiles(h){t.mountBeforeInstall&&p(h,t.mountBeforeInstall)}}});const v=await s.getPrimaryPhp();try{if(n&&!t.mountBeforeInstall&&g.writeFileSync(f,await q(v,\"/wordpress\")),t.mount&&p(v,t.mount),d=!0,u){const{php:h,reap:m}=await s.processManager.acquirePHPInstance();try{c.log(\"Running the Blueprint...\"),await x(u,h),c.log(\"Finished running the blueprint\")}finally{m()}}a===\"build-snapshot\"?(await r(t.outfile),c.log(`WordPress exported to ${t.outfile}`),process.exit(0)):a===\"run-blueprint\"?(c.log(\"Blueprint executed\"),process.exit(0)):c.log(`WordPress is running on ${l}`)}catch(h){if(!t.debug)throw h;const m=v.readFileAsText(D);throw new Error(m,{cause:h})}},async handleRequest(o){return d?await s.request(o):I.forHttpCode(502,\"WordPress is not ready yet\")}})}Q();\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ^\n","log":"/tmp/tmp.rEvad0r6cJ"}
,
{"message":"Function wpdb::escape is <strong>deprecated</strong> since version 3.6.0! Use wpdb::prepare() or esc_sql() instead. in /wordpress/wp-includes/functions.php on line 6114","level":"DEPRECATED","type":"PHP","test":"jspi-boot","plugin":"shashin","details":"[12-Jan-2025 23:24:40 UTC] PHP Deprecated:  Function wpdb::escape is <strong>deprecated</strong> since version 3.6.0! Use wpdb::prepare() or esc_sql() instead. in /wordpress/wp-includes/functions.php on line 6114","log":"/logs/plugins/s/shashin/error.json"}
,
{"message":"Cannot combine AUTOINCREMENT and multiple primary keys in SQLite.","level":"FATAL","type":"SQL","test":"jspi-boot","plugin":"shashin","details":"[12-Jan-2025 23:24:40 UTC] WordPress database error <div style=\"clear:both\">&nbsp;</div>\n<div class=\"queries\" style=\"clear:both;margin-bottom:2px;border:red dotted thin;\">\n<p>MySQL query:</p>\n<p>CREATE TABLE wp_shashin_album (\nid smallint unsigned NOT NULL AUTO_INCREMENT,\nsourceId varchar(255) NOT NULL,\nalbumType varchar(20) NOT NULL,\ndataUrl varchar(255) NOT NULL,\nuser varchar(255) NOT NULL,\nname varchar(255) NOT NULL,\nlinkUrl varchar(255) NOT NULL,\ntitle varchar(255) NOT NULL,\ndescription text,\nlocation varchar(255),\ncoverPhotoUrl varchar(255),\nwidth smallint unsigned,\nheight smallint unsigned,\nlastSync int unsigned,\nphotoCount smallint unsigned NOT NULL,\npubDate int unsigned NOT NULL,\ngeoPos varchar(25),\nincludeInRandom char(1) default 'Y',\nPRIMARY KEY id (id),\nUNIQUE KEY sourceId (sourceId)\n)\nDEFAULT CHARACTER SET utf8mb4 COLLATE utf8_general_ci</p>\n<p>Queries made or created this session were:</p>\n<ol>\n<li>Executing: BEGIN | (no parameters)</li>\n<li>Executing: ROLLBACK | (no parameters)</li>\n</ol>\n</div>\n<div style=\"clear:both;margin-bottom:2px;border:red dotted thin;\" class=\"error_message\" style=\"border-bottom:dotted blue thin;\">\nError occurred at line 4117 in Function <code>handle_error</code>. Error message was: Cannot combine AUTOINCREMENT and multiple primary keys in SQLite.\n</div>\n<p>Backtrace:</p>\n<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(287): WP_SQLite_Translator->get_error_message()\n#1 /wordpress/wp-admin/includes/upgrade.php(3271): WP_SQLite_DB->query('CREATE TABLE wp...')\n#2 /wordpress/wp-content/plugins/shashin/lib/ShashinDatabaseFacade.php(64): dbDelta(Array, true)\n#3 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(87): Lib_ShashinDatabaseFacade->createTable('wp_shashin_albu...', Array)\n#4 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(78): Admin_ShashinInstall->createAlbumTable('wp_shashin_albu...')\n#5 /wordpress/wp-content/plugins/shashin/lib/ShashinFunctionsFacade.php(176): Admin_ShashinInstall->runForNetworkSites()\n#6 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(70): Lib_ShashinFunctionsFacade->callFunctionForNetworkSites(Array)\n#7 /wordpress/wp-content/plugins/shashin/ShashinWp.php(19): Admin_ShashinInstall->run()\n#8 /wordpress/wp-content/plugins/shashin/start.php(48): ShashinWp->install()\n#9 /wordpress/wp-includes/class-wp-hook.php(324): shashinActivate(false)\n#10 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)\n#11 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)\n#12 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_shashi...', false)\n#13 /internal/eval.php(20): activate_plugin('shashin/start.p...')\n#14 {main}</pre>\n for query CREATE TABLE wp_shashin_album (\nid smallint unsigned NOT NULL AUTO_INCREMENT,\nsourceId varchar(255) NOT NULL,\nalbumType varchar(20) NOT NULL,\ndataUrl varchar(255) NOT NULL,\nuser varchar(255) NOT NULL,\nname varchar(255) NOT NULL,\nlinkUrl varchar(255) NOT NULL,\ntitle varchar(255) NOT NULL,\ndescription text,\nlocation varchar(255),\ncoverPhotoUrl varchar(255),\nwidth smallint unsigned,\nheight smallint unsigned,\nlastSync int unsigned,\nphotoCount smallint unsigned NOT NULL,\npubDate int unsigned NOT NULL,\ngeoPos varchar(25),\nincludeInRandom char(1) default 'Y',\nPRIMARY KEY id (id),\nUNIQUE KEY sourceId (sourceId)\n)\nDEFAULT CHARACTER SET utf8mb4 COLLATE utf8_general_ci made by activate_plugin, do_action('activate_shashin/start.php'), WP_Hook->do_action, WP_Hook->apply_filters, shashinActivate, ShashinWp->install, Admin_ShashinInstall->run, Lib_ShashinFunctionsFacade->callFunctionForNetworkSites, Admin_ShashinInstall->runForNetworkSites, Admin_ShashinInstall->createAlbumTable, Lib_ShashinDatabaseFacade->createTable, dbDelta, WP_SQLite_DB->query, WP_SQLite_DB->print_error\n\n    at Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:20:788)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async j (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1166) {\n  [cause]: Error: Error when executing the blueprint step #0 ({\"step\":\"installPlugin\",\"pluginData\":{\"resource\":\"wordpress.org/plugins\",\"slug\":\"shashin\"},\"options\":{\"activate\":true}}) : Plugin /wordpress/wp-content/plugins/shashin could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the \"debug\" logs in the console for more details\n      at Object.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12099:32)\n      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n      at async Qt (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12200:3)\n      at async Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:20:453)\n      at async j (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1166) {\n    [cause]: Error: Plugin /wordpress/wp-content/plugins/shashin could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the \"debug\" logs in the console for more details\n        at gr (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:67:24)\n        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n        at async Object.at [as installPlugin] (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:877:42)\n        at async d (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12165:30)\n        at async Object.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12096:23)\n        at async Qt (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12200:3)\n        at async Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:20:453)\n        at async j (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1166)\n  }\n}\n\n","log":"/logs/plugins/s/shashin/error.json"}
]
