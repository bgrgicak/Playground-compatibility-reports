file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21
`)},constants:R,phpIniEntries:{"openssl.cafile":"/internal/shared/ca-bundle.crt",allow_url_fopen:"1",disable_functions:""},hooks:{async beforeWordPressFiles(h){e.mountBeforeInstall&&u(h,e.mountBeforeInstall)}}}),d.log("Booted!");const W=await w.getPrimaryPhp();try{if(o&&!e.mountBeforeInstall&&!m.existsSync(f)&&(d.log("Caching preinstalled WordPress for the next boot..."),m.writeFileSync(f,await Z(W,"/wordpress")),d.log("Cached!")),e.mount&&u(W,e.mount),H=!0,l){const{php:h,reap:b}=await w.processManager.acquirePHPInstance();try{d.log("Running the Blueprint..."),await M(l,h),d.log("Finished running the blueprint")}finally{b()}}a==="build-snapshot"?(await i(e.outfile),d.log(`WordPress exported to ${e.outfile}`),process.exit(0)):a==="run-blueprint"?(d.log("Blueprint executed"),process.exit(0)):d.log(`WordPress is running on ${s}`)}catch(h){if(!e.debug)throw h;const b=W.readFileAsText(L);throw new Error(b,{cause:h})}},async handleRequest(r){return H?await w.request(r):U.forHttpCode(502,"WordPress is not ready yet")}})}te();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ^

Error: [10-Apr-2025 18:56:38 UTC] PHP Deprecated:  File rss.php is <strong>deprecated</strong> since version 3.0.0! Use wp-includes/class-simplepie.php instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 18:56:40 UTC] PHP Deprecated:  File rss.php is <strong>deprecated</strong> since version 3.0.0! Use wp-includes/class-simplepie.php instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 18:56:48 UTC] PHP Deprecated:  File rss.php is <strong>deprecated</strong> since version 3.0.0! Use wp-includes/class-simplepie.php instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 18:56:50 UTC] PHP Deprecated:  File rss.php is <strong>deprecated</strong> since version 3.0.0! Use wp-includes/class-simplepie.php instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 18:56:58 UTC] PHP Deprecated:  File rss.php is <strong>deprecated</strong> since version 3.0.0! Use wp-includes/class-simplepie.php instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 18:56:59 UTC] PHP Deprecated:  File rss.php is <strong>deprecated</strong> since version 3.0.0! Use wp-includes/class-simplepie.php instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 19:00:32 UTC] PHP Warning:  Undefined variable $wp_version in /wordpress/wp-content/plugins/simple-post-box/simplepost-box.php on line 15
[10-Apr-2025 19:00:41 UTC] PHP Warning:  Undefined variable $wp_version in /wordpress/wp-content/plugins/simple-post-box/simplepost-box.php on line 15
[10-Apr-2025 19:00:51 UTC] PHP Warning:  Undefined variable $wp_version in /wordpress/wp-content/plugins/simple-post-box/simplepost-box.php on line 15
[10-Apr-2025 19:01:04 UTC] PHP Fatal error:  Uncaught Error: Class 'WpOrg\Requests\Response' not found in /wordpress/wp-includes/Requests/src/Requests.php:724
Stack trace:
#0 /wordpress/wp-includes/Requests/src/Requests.php(473): WpOrg\Requests\Requests::parse_response('', 'http://127.0.0....', Array, NULL, Array)
#1 /wordpress/wp-includes/class-wp-http.php(410): WpOrg\Requests\Requests::request('http://127.0.0....', Array, NULL, 'POST', Array)
#2 /wordpress/wp-includes/class-wp-http.php(633): WP_Http->request('http://127.0.0....', Array)
#3 /wordpress/wp-includes/http.php(196): WP_Http->post('http://127.0.0....', Array)
#4 /wordpress/wp-includes/cron.php(949): wp_remote_post('http://127.0.0....', Array)
#5 /wordpress/wp-includes/cron.php(1029): spawn_cron(1744311661.721)
#6 /wordpress/wp-includes/class-wp-hook.php(324): _wp_cron('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(726): do_action('wp_loaded')
#10 /word in /wordpress/wp-includes/Requests/src/Requests.php on line 724
[10-Apr-2025 19:01:13 UTC] PHP Warning:  Use of undefined constant STDERR - assumed 'STDERR' (this will throw an Error in a future version of PHP) in /wordpress/wp-content/plugins/siteswp-wc-print-orders-brazil/vendor/composer/platform_check.php on line 17
[10-Apr-2025 19:01:13 UTC] PHP Warning:  fwrite() expects parameter 1 to be resource, string given in /wordpress/wp-content/plugins/siteswp-wc-print-orders-brazil/vendor/composer/platform_check.php on line 17
[10-Apr-2025 19:01:13 UTC] PHP Fatal error:  Composer detected issues in your platform: Your Composer dependencies require a PHP version ">= 7.3.0". You are running 7.2.34-dev. in /wordpress/wp-content/plugins/siteswp-wc-print-orders-brazil/vendor/composer/platform_check.php on line 24
[10-Apr-2025 19:01:22 UTC] PHP Warning:  Use of undefined constant STDERR - assumed 'STDERR' (this will throw an Error in a future version of PHP) in /wordpress/wp-content/plugins/siteswp-wc-print-orders-brazil/vendor/composer/platform_check.php on line 17
[10-Apr-2025 19:01:22 UTC] PHP Warning:  fwrite() expects parameter 1 to be resource, string given in /wordpress/wp-content/plugins/siteswp-wc-print-orders-brazil/vendor/composer/platform_check.php on line 17
[10-Apr-2025 19:01:22 UTC] PHP Fatal error:  Composer detected issues in your platform: Your Composer dependencies require a PHP version ">= 7.3.0". You are running 7.2.34-dev. in /wordpress/wp-content/plugins/siteswp-wc-print-orders-brazil/vendor/composer/platform_check.php on line 24
[10-Apr-2025 19:02:15 UTC] PHP Fatal error:  Uncaught Error: Class 'WpOrg\Requests\Response' not found in /wordpress/wp-includes/Requests/src/Requests.php:724
Stack trace:
#0 /wordpress/wp-includes/Requests/src/Requests.php(473): WpOrg\Requests\Requests::parse_response('', 'http://127.0.0....', Array, NULL, Array)
#1 /wordpress/wp-includes/class-wp-http.php(410): WpOrg\Requests\Requests::request('http://127.0.0....', Array, NULL, 'POST', Array)
#2 /wordpress/wp-includes/class-wp-http.php(633): WP_Http->request('http://127.0.0....', Array)
#3 /wordpress/wp-includes/http.php(196): WP_Http->post('http://127.0.0....', Array)
#4 /wordpress/wp-includes/cron.php(949): wp_remote_post('http://127.0.0....', Array)
#5 /wordpress/wp-includes/cron.php(1029): spawn_cron(1744311732.197)
#6 /wordpress/wp-includes/class-wp-hook.php(324): _wp_cron('')
#7 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#8 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#9 /wordpress/wp-settings.php(726): do_action('wp_loaded')
#10 /word in /wordpress/wp-includes/Requests/src/Requests.php on line 724
[10-Apr-2025 19:02:23 UTC] PHP Parse error:  syntax error, unexpected 'string' (T_STRING), expecting function (T_FUNCTION) or const (T_CONST) in /wordpress/wp-content/plugins/spoki/spoki.php on line 55
[10-Apr-2025 19:02:32 UTC] PHP Parse error:  syntax error, unexpected 'string' (T_STRING), expecting function (T_FUNCTION) or const (T_CONST) in /wordpress/wp-content/plugins/spoki/spoki.php on line 55
[10-Apr-2025 19:05:02 UTC] PHP Deprecated:  Function wpdb::escape is <strong>deprecated</strong> since version 3.6.0! Use wpdb::prepare() or esc_sql() instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 19:05:03 UTC] PHP Fatal error:  Uncaught ArgumentCountError: Too few arguments to function WP_Widget::__construct(), 0 passed in /wordpress/wp-includes/class-wp-widget-factory.php on line 62 and at least 2 expected in /wordpress/wp-includes/class-wp-widget.php:163
Stack trace:
#0 /wordpress/wp-includes/class-wp-widget-factory.php(62): WP_Widget->__construct()
#1 /wordpress/wp-includes/widgets.php(123): WP_Widget_Factory->register('Admin_ShashinWi...')
#2 /wordpress/wp-content/plugins/shashin/ShashinWp.php(367): register_widget('Admin_ShashinWi...')
#3 /wordpress/wp-includes/class-wp-hook.php(324): ShashinWp->registerWidget('')
#4 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#5 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#6 /wordpress/wp-includes/widgets.php(1870): do_action('widgets_init')
#7 /wordpress/wp-includes/class-wp-hook.php(324): wp_widgets_init('')
#8 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters(NULL, Array)
#9 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#10 /wordpress/wp-settings.php(704): do_action('init')
#11 /wordpress/wp-config.php(102): require_once('/wordpress/wp-s...')
#12 /wordpress/wp-load.php(50): require_once('/wordpress/wp-c...')
#13 /internal/eval.php(3): require_once('/wordpress/wp-l...')
#14 {main}
  thrown in /wordpress/wp-includes/class-wp-widget.php on line 163
[10-Apr-2025 19:05:12 UTC] PHP Deprecated:  Function wpdb::escape is <strong>deprecated</strong> since version 3.6.0! Use wpdb::prepare() or esc_sql() instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 19:05:12 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>CREATE TABLE wp_shashin_album (
id smallint unsigned NOT NULL AUTO_INCREMENT,
sourceId varchar(255) NOT NULL,
albumType varchar(20) NOT NULL,
dataUrl varchar(255) NOT NULL,
user varchar(255) NOT NULL,
name varchar(255) NOT NULL,
linkUrl varchar(255) NOT NULL,
title varchar(255) NOT NULL,
description text,
location varchar(255),
coverPhotoUrl varchar(255),
width smallint unsigned,
height smallint unsigned,
lastSync int unsigned,
photoCount smallint unsigned NOT NULL,
pubDate int unsigned NOT NULL,
geoPos varchar(25),
includeInRandom char(1) default 'Y',
PRIMARY KEY id (id),
UNIQUE KEY sourceId (sourceId)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8_general_ci</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN | (no parameters)</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Error occurred at line 4117 in Function <code>handle_error</code>. Error message was: Cannot combine AUTOINCREMENT and multiple primary keys in SQLite.
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(287): WP_SQLite_Translator->get_error_message()
#1 /wordpress/wp-admin/includes/upgrade.php(3271): WP_SQLite_DB->query('CREATE TABLE wp...')
#2 /wordpress/wp-content/plugins/shashin/lib/ShashinDatabaseFacade.php(64): dbDelta(Array, true)
#3 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(87): Lib_ShashinDatabaseFacade->createTable('wp_shashin_albu...', Array)
#4 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(78): Admin_ShashinInstall->createAlbumTable('wp_shashin_albu...')
#5 /wordpress/wp-content/plugins/shashin/lib/ShashinFunctionsFacade.php(176): Admin_ShashinInstall->runForNetworkSites()
#6 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(70): Lib_ShashinFunctionsFacade->callFunctionForNetworkSites(Array)
#7 /wordpress/wp-content/plugins/shashin/ShashinWp.php(19): Admin_ShashinInstall->run()
#8 /wordpress/wp-content/plugins/shashin/start.php(48): ShashinWp->install()
#9 /wordpress/wp-includes/class-wp-hook.php(324): shashinActivate(false)
#10 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)
#11 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#12 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_shashi...', false)
#13 /internal/eval.php(20): activate_plugin('shashin/start.p...')
#14 {main}</pre>
 for query CREATE TABLE wp_shashin_album (
id smallint unsigned NOT NULL AUTO_INCREMENT,
sourceId varchar(255) NOT NULL,
albumType varchar(20) NOT NULL,
dataUrl varchar(255) NOT NULL,
user varchar(255) NOT NULL,
name varchar(255) NOT NULL,
linkUrl varchar(255) NOT NULL,
title varchar(255) NOT NULL,
description text,
location varchar(255),
coverPhotoUrl varchar(255),
width smallint unsigned,
height smallint unsigned,
lastSync int unsigned,
photoCount smallint unsigned NOT NULL,
pubDate int unsigned NOT NULL,
geoPos varchar(25),
includeInRandom char(1) default 'Y',
PRIMARY KEY id (id),
UNIQUE KEY sourceId (sourceId)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8_general_ci made by activate_plugin, do_action('activate_shashin/start.php'), WP_Hook->do_action, WP_Hook->apply_filters, shashinActivate, ShashinWp->install, Admin_ShashinInstall->run, Lib_ShashinFunctionsFacade->callFunctionForNetworkSites, Admin_ShashinInstall->runForNetworkSites, Admin_ShashinInstall->createAlbumTable, Lib_ShashinDatabaseFacade->createTable, dbDelta, WP_SQLite_DB->query, WP_SQLite_DB->print_error
[10-Apr-2025 19:05:23 UTC] PHP Deprecated:  Function wpdb::escape is <strong>deprecated</strong> since version 3.6.0! Use wpdb::prepare() or esc_sql() instead. in /wordpress/wp-includes/functions.php on line 6114
[10-Apr-2025 19:05:23 UTC] WordPress database error <div style="clear:both">&nbsp;</div>
<div class="queries" style="clear:both;margin-bottom:2px;border:red dotted thin;">
<p>MySQL query:</p>
<p>CREATE TABLE wp_shashin_album (
id smallint unsigned NOT NULL AUTO_INCREMENT,
sourceId varchar(255) NOT NULL,
albumType varchar(20) NOT NULL,
dataUrl varchar(255) NOT NULL,
user varchar(255) NOT NULL,
name varchar(255) NOT NULL,
linkUrl varchar(255) NOT NULL,
title varchar(255) NOT NULL,
description text,
location varchar(255),
coverPhotoUrl varchar(255),
width smallint unsigned,
height smallint unsigned,
lastSync int unsigned,
photoCount smallint unsigned NOT NULL,
pubDate int unsigned NOT NULL,
geoPos varchar(25),
includeInRandom char(1) default 'Y',
PRIMARY KEY id (id),
UNIQUE KEY sourceId (sourceId)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8_general_ci</p>
<p>Queries made or created this session were:</p>
<ol>
<li>Executing: BEGIN | (no parameters)</li>
<li>Executing: ROLLBACK | (no parameters)</li>
</ol>
</div>
<div style="clear:both;margin-bottom:2px;border:red dotted thin;" class="error_message" style="border-bottom:dotted blue thin;">
Error occurred at line 4117 in Function <code>handle_error</code>. Error message was: Cannot combine AUTOINCREMENT and multiple primary keys in SQLite.
</div>
<p>Backtrace:</p>
<pre>#0 /internal/shared/sqlite-database-integration/wp-includes/sqlite/class-wp-sqlite-db.php(287): WP_SQLite_Translator->get_error_message()
#1 /wordpress/wp-admin/includes/upgrade.php(3271): WP_SQLite_DB->query('CREATE TABLE wp...')
#2 /wordpress/wp-content/plugins/shashin/lib/ShashinDatabaseFacade.php(64): dbDelta(Array, true)
#3 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(87): Lib_ShashinDatabaseFacade->createTable('wp_shashin_albu...', Array)
#4 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(78): Admin_ShashinInstall->createAlbumTable('wp_shashin_albu...')
#5 /wordpress/wp-content/plugins/shashin/lib/ShashinFunctionsFacade.php(176): Admin_ShashinInstall->runForNetworkSites()
#6 /wordpress/wp-content/plugins/shashin/admin/ShashinInstall.php(70): Lib_ShashinFunctionsFacade->callFunctionForNetworkSites(Array)
#7 /wordpress/wp-content/plugins/shashin/ShashinWp.php(19): Admin_ShashinInstall->run()
#8 /wordpress/wp-content/plugins/shashin/start.php(48): ShashinWp->install()
#9 /wordpress/wp-includes/class-wp-hook.php(324): shashinActivate(false)
#10 /wordpress/wp-includes/class-wp-hook.php(348): WP_Hook->apply_filters('', Array)
#11 /wordpress/wp-includes/plugin.php(517): WP_Hook->do_action(Array)
#12 /wordpress/wp-admin/includes/plugin.php(703): do_action('activate_shashi...', false)
#13 /internal/eval.php(20): activate_plugin('shashin/start.p...')
#14 {main}</pre>
 for query CREATE TABLE wp_shashin_album (
id smallint unsigned NOT NULL AUTO_INCREMENT,
sourceId varchar(255) NOT NULL,
albumType varchar(20) NOT NULL,
dataUrl varchar(255) NOT NULL,
user varchar(255) NOT NULL,
name varchar(255) NOT NULL,
linkUrl varchar(255) NOT NULL,
title varchar(255) NOT NULL,
description text,
location varchar(255),
coverPhotoUrl varchar(255),
width smallint unsigned,
height smallint unsigned,
lastSync int unsigned,
photoCount smallint unsigned NOT NULL,
pubDate int unsigned NOT NULL,
geoPos varchar(25),
includeInRandom char(1) default 'Y',
PRIMARY KEY id (id),
UNIQUE KEY sourceId (sourceId)
)
DEFAULT CHARACTER SET utf8mb4 COLLATE utf8_general_ci made by activate_plugin, do_action('activate_shashin/start.php'), WP_Hook->do_action, WP_Hook->apply_filters, shashinActivate, ShashinWp->install, Admin_ShashinInstall->run, Lib_ShashinFunctionsFacade->callFunctionForNetworkSites, Admin_ShashinInstall->runForNetworkSites, Admin_ShashinInstall->createAlbumTable, Lib_ShashinDatabaseFacade->createTable, dbDelta, WP_SQLite_DB->query, WP_SQLite_DB->print_error

    at Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21:903)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Y (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1159) {
  [cause]: Error: Error when executing the blueprint step #0 ({"step":"installPlugin","pluginData":{"resource":"wordpress.org/plugins","slug":"shashin"},"options":{"activate":true}}) : Plugin /wordpress/wp-content/plugins/shashin could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details.
      at Object.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12407:32)
      at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
      at async ns (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12508:3)
      at async Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21:568)
      at async Y (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1159) {
    [cause]: Error: Plugin /wordpress/wp-content/plugins/shashin could not be activated – WordPress exited with no error. Sometimes, when $_SERVER or site options are not configured correctly, WordPress exits early with a 301 redirect. Inspect the "debug" logs in the console for more details.
        at vr (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:119:51)
        at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
        at async Object.ut [as installPlugin] (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:1084:42)
        at async d (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12473:30)
        at async Object.run (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12404:23)
        at async ns (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/blueprints/index.js:12508:3)
        at async Object.onBind (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:21:568)
        at async Y (file:///home/runner/work/playground-tester/playground-tester/node_modules/@wp-playground/cli/cli.js:1:1159)
  }
}

Node.js v23.11.0
